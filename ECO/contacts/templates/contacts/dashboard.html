{% extends 'contacts/base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h2>Dashboard</h2>
{% if messages %}
    <div class="mt-3">
        {% for message in messages %}
            <div class="alert alert-warning">{{ message }}</div>
        {% endfor %}
    </div>
{% endif %}
<div class="row">
    <div class="col-md-6">
        <h4>Contact Stats</h4>
        <ul>
            <li>Total Contacts: {{ stats.total }}</li>
            <li>Most Common Category: {{ stats.common_category }}</li>
            <li>Highest Priority Contact: {{ stats.highest_priority }}</li>
        </ul>
        {% if stats.total == 0 %}
            <div class="alert alert-info">No contacts found. Add contacts to see dashboard stats and charts.</div>
        {% endif %}
    </div>
    <div class="col-md-6">
        <h4>Charts</h4>
        {% if stats.total > 0 %}
            <img src="/static/charts/category_chart.png" class="img-fluid" alt="Category Chart">
            <img src="/static/charts/priority_chart.png" class="img-fluid" alt="Priority Chart">
        {% else %}
            <div class="alert alert-info">Charts will appear once you add contacts.</div>
        {% endif %}
    </div>
</div>
{% endblock %}
